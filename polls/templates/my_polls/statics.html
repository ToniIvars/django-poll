{% extends 'base.html' %}
{% load static %}

{% block title %} Poll statics {% endblock %}

{% block style %} <link rel="stylesheet" href="{% static 'my_polls/statics.css' %}"> {% endblock %}
{% block script %} 
<script src="https://cdn.jsdelivr.net/npm/chart.js@3.2.1/dist/chart.min.js"></script>
<script src="{% static 'my_polls/statics.js' %}"></script>
{% endblock %}

{% block content %}
<h1 class="text-center">Statics of <strong>{{poll.title}}</strong></h1>

<div class="d-flex flex-wrap justify-content-center">
    {% for question in poll.questions.all %}
    <div class="poll-card card mx-3 mt-4">
        <div class="card-body d-flex flex-column justify-content-between">
            <h4 class="card-title">{{question.title}}</h4>
            <!-- Info for the pie chart -->
            <canvas></canvas>
            {% for answer in question.answers.all %}
            <p class="d-none" data-votes="{{answer.votes}}">{{answer.answer}}</p>
            {% endfor %}
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}